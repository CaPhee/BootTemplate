<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        html {
            height: 100%
        }
        
        body {
            height: 100%;
            margin: 0;
            padding: 0
        }
        
        #map_canvas {
            height: 100%
        }
    </style>
    <script type="text/javascript">
        var map;

        function initialize() {
            var mapOptions = {
                center: new google.maps.LatLng(16.055028, 108.217444)
                , zoom: 12
                , mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
            
            
            $(document).ready(function () {
                $.getJSON("./Route/route1.js", function (json1) {
                    $.each(json1, function (key, data) {
                        var latLng = new google.maps.LatLng(data.lat, data.lng);
                        // Creating a marker and putting it on the map
                        console.log(data.lat);
                        var marker = new google.maps.Marker({
                            position: latLng
                            , title: data.name
                            , raiseOnDrag: false,
                             draggable: true
                        , });
                        var infowindow = new google.maps.InfoWindow({
                            content: data.name + '<div>' + '<input type="button" value="xe dang den"/>' + '</div>'
                        });
                        
                        marker.setMap(map);
                         google.maps.event.addListener(marker, 'click', function () {
                             if (!marker.open) {
                                 infowindow.open(map, marker);
                                 marker.open = true;
                             }
                             else {
                                 infowindow.close();
                                 marker.open = false;
                             }
                             google.maps.event.addListener(map, 'click', function () {
                                 infowindow.close();
                                 marker.open = false;
                             });
                         });
                    });
                });
            });
            
            
            
        }
    </script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body>
    <div id="map_canvas" style="width:100%; height:100%"></div>
    <script type="text/javascript">
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCv7lDkj6Yd3cMbujJcHTKIo_AzLEga-7c&amp;callback=initMap"
    async="async" defer="defer"></script>
</body>

</html>